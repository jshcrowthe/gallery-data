<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-selector/iron-selector.html">
<link rel="import" href="../layout/layout.html">

<!--
An element providing a solution to no problem in particular.

Example:

    <gallery-albums></gallery-albums>

@group Seed Elements
@element gallery-albums
@demo demo/index.html
@hero hero.svg
-->
<dom-module id="gallery-albums">
  <link rel="import" type="css" href="gallery-albums.css">
  <template>
    <ul>
      <iron-selector id='selector' selected='{{_selected}}' attr-for-selected='data-uid' selectable='.items-view' on-selected-changed='_handleSelectChange'>
        <li class='horizontal center justified items-view' data-uid='my-memories'>
          <i class='album-icon my-memories-icon'></i>
          <span>My Memories</span>
          <span class='fs-badge'>[[count]]</span>
        </li>
        <h1>Albums</h1>
        <li class='horizontal center justified'>
          <i class="album-icon add-folder-icon"></i>
          <span>New Album</span>
        </li>
        <template is='dom-repeat' items='{{albums}}' as='album'>
          <li class='horizontal center justified items-view' data-uid$='[[album.id]]'>
            <i class='album-icon folder-icon'></i>
            <span>[[album.name]]</span>
            <span class='fs-badge'>[[album.artifactCount]]</span>
          </li>
        </template>
      </iron-selector>
    </ul>
  </template>
</dom-module>

<script>
(function() {
  Polymer({
    is: 'gallery-albums',
    properties: {
      // USER INPUTS
      albums: {
        type: Array,
        value: function() { return [] }
      },
      _selected: {
        type: String,
        value: 'my-memories',
      },
      count: {
        type: Number,
        value: 0
      }
    },
    _handleSelectChange: function(e) {
      if (!e || !e.detail || !e.detail.value) return;
      var val = e.detail.value;
      if (val === 'my-memories') {
        this.fire('gallery-view-memories');
      } else {
        this.fire('gallery-view-album', {
          albumId: val
        });
      }
    },
  });
})();
</script>
